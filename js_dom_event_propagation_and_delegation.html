<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>EVENT FLOW AND DELEGATION</title>
	</head>

	<body>
		<div id="root">
			<div id="container">
				<button id="button">Click Me!</button>
			</div>
		</div>

		<div id="hello" onclick="alert('WORLD')"></div>

		<div id="world" onclick="alert('FRINGECORE')">
			<p>paragrah</p>
			<ul onclick="alert('MERN')">
				<li>1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
				<li>5</li>
			</ul>
		</div>

		<script type="text/javascript">
			// container - button - root [ false, true ]
			// root - button - container [ true, false ]
			function EventPropagation() {
				document.getElementById('root').addEventListener(
					'click',
					() => {
						alert('ROOT');
					},
					true
				);

				document.getElementById('container').addEventListener(
					'click',
					() => {
						alert('CONTAINER');
					},
					false
				);

				document
					.getElementById('button')
					.addEventListener('click', () => {
						alert('BUTTON');
					});
			}

			function EventDelegation() {
				const customUI = document.createElement('ul');

				const customP = document.createElement('p');
				customP.textContent = 'hey!!';
				customUI.appendChild(customP);

				function responding(evt, name) {
					console.log(name);
					if (evt.target.nodeName === 'LI') {
						alert('Responding');
					}
				}

				for (let i = 1; i <= 10; i++) {
					const newElement = document.createElement('li');
					newElement.textContent = 'This is line ' + i;
					customUI.appendChild(newElement);
				}

				customUI.addEventListener('click', (evt) => {
					const name = 'paul';
					responding(evt, name);
				});

				document.getElementById('hello').appendChild(customUI);
			}

			EventPropagation();
			EventDelegation();

			// capture : true
			// bubble : false
			// capture phase -> target phase -> bubble phase
			// capture phase : top - bottom
			// bubble phase : bottom - top
		</script>
	</body>
</html>
