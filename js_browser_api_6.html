<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	
	<body>
		<h2>Web Worker API</h2>

		<p>Count numbers: <output id="result"></output></p>
		<button onclick="startWorker()">Start Worker</button>
		<button onclick="stopWorker()">Stop Worker</button>

		<script>
			let worker = undefined;

			function startWorker() {
				if (typeof worker === 'undefined') {
					worker = new Worker('js_browser_api_6.js');
					worker.onmessage = function (event) {
						document.getElementById('result').innerText =
							event.data;
					};
				}
			}

			function endWorker() {
				worker.terminate();
				worker = undefined;
			}
		</script>
	</body>
</html>
